!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function c(){return t=" ",document.createTextNode(t);var t}function d(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t,e){t.value=null==e?"":e}let h;function g(t){h=t}const v=[],m=[],b=[],y=[],w=Promise.resolve();let $=!1;function x(t){b.push(t)}function k(t){y.push(t)}let E=!1;const S=new Set;function C(){if(!E){E=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];g(e),z(e.$$)}for(g(null),v.length=0;m.length;)m.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];S.has(e)||(S.add(e),e())}b.length=0}while(v.length);for(;y.length;)y.pop()();$=!1,E=!1,S.clear()}}function z(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const _=new Set;let T;function j(t,e){t&&t.i&&(_.delete(t),t.i(e))}function O(t,e,n,r){if(t&&t.o){if(_.has(t))return;_.add(t),T.c.push((()=>{_.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const R="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function q(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function A(t,n,i,a){const{fragment:s,on_mount:l,on_destroy:u,after_update:c}=t.$$;s&&s.m(n,i),a||x((()=>{const n=l.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]})),c.forEach(x)}function W(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function P(t,e){-1===t.$$.dirty[0]&&(v.push(t),$||($=!0,w.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(e,o,i,a,s,u,c=[-1]){const d=h;g(e);const f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let p=!1;if(f.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),p&&P(e,t)),n})):[],f.update(),p=!0,r(f.before_update),f.fragment=!!a&&a(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(l)}else f.fragment&&f.fragment.c();o.intro&&j(e.$$.fragment),A(e,o.target,o.anchor,o.customElement),C()}g(d)}class B{$destroy(){W(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var L,D=(function(t,e){t.exports=function(){
/*!
       * mustache.js - Logic-less {{mustache}} templates with JavaScript
       * http://github.com/janl/mustache.js
       */
var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(t){return"function"==typeof t}function r(t){return e(t)?"array":typeof t}function o(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,e){return null!=t&&"object"==typeof t&&e in t}function a(t,e){return null!=t&&"object"!=typeof t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var s=RegExp.prototype.test;function l(t,e){return s.call(t,e)}var u=/\S/;function c(t){return!l(u,t)}var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function f(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return d[t]}))}var p=/\s*/,h=/\s+/,g=/\s*=/,v=/\s*\}/,m=/#|\^|\/|>|\{|&|=|!/;function b(t,n){if(!t)return[];var r,i,a,s=!1,l=[],u=[],d=[],f=!1,b=!1,x="",k=0;function S(){if(f&&!b)for(;d.length;)delete u[d.pop()];else d=[];f=!1,b=!1}function C(t){if("string"==typeof t&&(t=t.split(h,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);r=new RegExp(o(t[0])+"\\s*"),i=new RegExp("\\s*"+o(t[1])),a=new RegExp("\\s*"+o("}"+t[1]))}C(n||E.tags);for(var z,_,T,j,O,R,q=new $(t);!q.eos();){if(z=q.pos,T=q.scanUntil(r))for(var A=0,W=T.length;A<W;++A)c(j=T.charAt(A))?(d.push(u.length),x+=j):(b=!0,s=!0,x+=" "),u.push(["text",j,z,z+1]),z+=1,"\n"===j&&(S(),x="",k=0,s=!1);if(!q.scan(r))break;if(f=!0,_=q.scan(m)||"name",q.scan(p),"="===_?(T=q.scanUntil(g),q.scan(g),q.scanUntil(i)):"{"===_?(T=q.scanUntil(a),q.scan(v),q.scanUntil(i),_="&"):T=q.scanUntil(i),!q.scan(i))throw new Error("Unclosed tag at "+q.pos);if(O=">"==_?[_,T,z,q.pos,x,k,s]:[_,T,z,q.pos],k++,u.push(O),"#"===_||"^"===_)l.push(O);else if("/"===_){if(!(R=l.pop()))throw new Error('Unopened section "'+T+'" at '+z);if(R[1]!==T)throw new Error('Unclosed section "'+R[1]+'" at '+z)}else"name"===_||"{"===_||"&"===_?b=!0:"="===_&&C(T)}if(S(),R=l.pop())throw new Error('Unclosed section "'+R[1]+'" at '+q.pos);return w(y(u))}function y(t){for(var e,n,r=[],o=0,i=t.length;o<i;++o)(e=t[o])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}function w(t){for(var e,n=[],r=n,o=[],i=0,a=t.length;i<a;++i)switch((e=t[i])[0]){case"#":case"^":r.push(e),o.push(e),r=e[4]=[];break;case"/":o.pop()[5]=e[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(e)}return n}function $(t){this.string=t,this.tail=t,this.pos=0}function x(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function k(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}$.prototype.eos=function(){return""===this.tail},$.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},$.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},x.prototype.push=function(t){return new x(t,this)},x.prototype.lookup=function(t){var e,r=this.cache;if(r.hasOwnProperty(t))e=r[t];else{for(var o,s,l,u=this,c=!1;u;){if(t.indexOf(".")>0)for(o=u.view,s=t.split("."),l=0;null!=o&&l<s.length;)l===s.length-1&&(c=i(o,s[l])||a(o,s[l])),o=o[s[l++]];else o=u.view[t],c=i(u.view,t);if(c){e=o;break}u=u.parent}r[t]=e}return n(e)&&(e=e.call(this.view)),e},k.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},k.prototype.parse=function(t,e){var n=this.templateCache,r=t+":"+(e||E.tags).join(":"),o=void 0!==n,i=o?n.get(r):void 0;return null==i&&(i=b(t,e),o&&n.set(r,i)),i},k.prototype.render=function(t,e,n,r){var o=this.getConfigTags(r),i=this.parse(t,o),a=e instanceof x?e:new x(e,void 0);return this.renderTokens(i,a,n,t,r)},k.prototype.renderTokens=function(t,e,n,r,o){for(var i,a,s,l="",u=0,c=t.length;u<c;++u)s=void 0,"#"===(a=(i=t[u])[0])?s=this.renderSection(i,e,n,r,o):"^"===a?s=this.renderInverted(i,e,n,r,o):">"===a?s=this.renderPartial(i,e,n,o):"&"===a?s=this.unescapedValue(i,e):"name"===a?s=this.escapedValue(i,e,o):"text"===a&&(s=this.rawValue(i)),void 0!==s&&(l+=s);return l},k.prototype.renderSection=function(t,r,o,i,a){var s=this,l="",u=r.lookup(t[1]);function c(t){return s.render(t,r,o,a)}if(u){if(e(u))for(var d=0,f=u.length;d<f;++d)l+=this.renderTokens(t[4],r.push(u[d]),o,i,a);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)l+=this.renderTokens(t[4],r.push(u),o,i,a);else if(n(u)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(r.view,i.slice(t[3],t[5]),c))&&(l+=u)}else l+=this.renderTokens(t[4],r,o,i,a);return l}},k.prototype.renderInverted=function(t,n,r,o,i){var a=n.lookup(t[1]);if(!a||e(a)&&0===a.length)return this.renderTokens(t[4],n,r,o,i)},k.prototype.indentPartial=function(t,e,n){for(var r=e.replace(/[^ \t]/g,""),o=t.split("\n"),i=0;i<o.length;i++)o[i].length&&(i>0||!n)&&(o[i]=r+o[i]);return o.join("\n")},k.prototype.renderPartial=function(t,e,r,o){if(r){var i=this.getConfigTags(o),a=n(r)?r(t[1]):r[t[1]];if(null!=a){var s=t[6],l=t[5],u=t[4],c=a;0==l&&u&&(c=this.indentPartial(a,u,s));var d=this.parse(c,i);return this.renderTokens(d,e,r,c,o)}}},k.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},k.prototype.escapedValue=function(t,e,n){var r=this.getConfigEscape(n)||E.escape,o=e.lookup(t[1]);if(null!=o)return"number"==typeof o&&r===E.escape?String(o):r(o)},k.prototype.rawValue=function(t){return t[1]},k.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"==typeof t?t.tags:void 0},k.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!e(t)?t.escape:void 0};var E={name:"mustache.js",version:"4.1.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){S.templateCache=t},get templateCache(){return S.templateCache}},S=new k;return E.clearCache=function(){return S.clearCache()},E.parse=function(t,e){return S.parse(t,e)},E.render=function(t,e,n,o){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+r(t)+'" was given as the first argument for mustache#render(template, view, partials)');return S.render(t,e,n,o)},E.escape=f,E.Scanner=$,E.Context=x,E.Writer=k,E}()}(L={exports:{}},L.exports),L.exports);function I(t){return t.reduce(((t,[e,n,r,o,i])=>("name"!==e&&"&"!==e&&"#"!==e&&"^"!==e||t.push(n.replace(/\s*\..+$/,"")),Array.isArray(i)&&t.push(...I(i)),t)),[])}function V(t){return I(D.parse(t))}function F(t){return e=>{"Enter"===e.key&&t(e)}}const N=(...t)=>t.map(parseFloat).reduce(((t,e)=>t+e),0),H="undefined"!=typeof document&&!!document.documentElement.currentStyle,M=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"];const Y={"min-height":"0","max-height":"none",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"};function G(t){return Object.entries(Y).forEach((([e,n])=>t.style.setProperty(e,n,"important")))}let J;function K(t){const e=()=>{const e=function(t){const e=window.getComputedStyle(t);if(null===e)return null;let n=(r=e,M.reduce(((t,e)=>(t[e]=r[e],t)),{}));var r;const{boxSizing:o}=n;return""===o?null:(H&&"border-box"===o&&(n.width=N(n.width,n.borderRightWidth,n.borderLeftWidth,n.paddingRight,n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:N(n.paddingBottom,n.paddingTop),borderSize:N(n.borderBottomWidth,n.borderTopWidth)})}(t);if(!e)return;const n=function(t,e){J||(J=document.createElement("textarea"),J.setAttribute("tab-index","-1"),J.setAttribute("aria-hidden","true"),J.setAttribute("rows","1"),G(J)),null===J.parentNode&&document.body.appendChild(J);const{paddingSize:n,borderSize:r,sizingStyle:o}=t,{boxSizing:i}=o;Object.entries(o).forEach((([t,e])=>J.style[t]=e)),G(J),J.value=e;let a=((t,e)=>{const n=t.scrollHeight;return"border-box"===e.sizingStyle.boxSizing?n+e.borderSize:n-e.paddingSize})(J,t);J.value="x";let s=J.scrollHeight-n;return"border-box"===i&&(s=s+n+r),Math.max(s,a)}(e,t.value||t.placeholder||"x");t.style.setProperty("height",`${n}px`,"important")};t.addEventListener("input",e),window.addEventListener("resize",e),e()}function Q(e){let n,r,o,i,a;return{c(){n=u("strong"),n.textContent="テンプレート内に変数が存在しません",r=c(),o=u("input"),f(n,"class","error svelte-5tvj07"),f(o,"type","button"),o.value="削除"},m(t,l){s(t,n,l),s(t,r,l),s(t,o,l),i||(a=d(o,"click",e[7]),i=!0)},p:t,d(t){t&&l(n),t&&l(r),t&&l(o),i=!1,a()}}}function X(t){let e;return{c(){e=u("em"),e.textContent="変数を検知したため、自動で追加されました",f(e,"class","info svelte-5tvj07")},m(t,n){s(t,e,n)},d(t){t&&l(e)}}}function Z(e){let n,i,h,g,v,m,b,y,w,$=!e[2]&&Q(e),x=void 0===e[1]&&X();return{c(){n=u("fieldset"),i=u("legend"),h=u("input"),g=c(),$&&$.c(),v=c(),x&&x.c(),m=c(),b=u("textarea"),f(h,"type","text"),f(h,"class","variable-name"),f(b,"class","svelte-5tvj07"),f(n,"class","svelte-5tvj07")},m(r,l){var u;s(r,n,l),a(n,i),a(i,h),p(h,e[0]),a(i,g),$&&$.m(i,null),a(i,v),x&&x.m(i,null),a(n,m),a(n,b),p(b,e[1]),e[9](b),y||(w=[d(h,"input",e[6]),d(h,"keydown",F(e[5])),(u=K.call(null,b),u&&o(u.destroy)?u.destroy:t),d(b,"input",e[8])],y=!0)},p(t,[e]){1&e&&h.value!==t[0]&&p(h,t[0]),t[2]?$&&($.d(1),$=null):$?$.p(t,e):($=Q(t),$.c(),$.m(i,v)),void 0===t[1]?x||(x=X(),x.c(),x.m(i,null)):x&&(x.d(1),x=null),2&e&&p(b,t[1])},i:t,o:t,d(t){t&&l(n),$&&$.d(),x&&x.d(),e[9](null),y=!1,r(w)}}}function tt(t,e,n){let r;let{name:o}=e,{value:i}=e,{defined:a}=e,{onRemove:s}=e;return t.$$set=t=>{"name"in t&&n(0,o=t.name),"value"in t&&n(1,i=t.value),"defined"in t&&n(2,a=t.defined),"onRemove"in t&&n(3,s=t.onRemove)},[o,i,a,s,r,function(t){t.preventDefault(),r.focus()},function(){o=this.value,n(0,o)},()=>s(o,i),function(){i=this.value,n(1,i)},function(t){m[t?"unshift":"push"]((()=>{r=t,n(4,r)}))}]}class et extends B{constructor(t){super(),U(this,t,tt,Z,i,{name:0,value:1,defined:2,onRemove:3})}}const{Boolean:nt}=R;function rt(t,e,n){const r=t.slice();return r[14]=e[n],r[15]=e,r[16]=n,r}function ot(t){let e,n,r,o,i;function a(e){t[8](e,t[14])}function c(e){t[9](e,t[14])}let d={defined:t[2].has(t[14].name),onRemove:t[6]};return void 0!==t[14].name&&(d.name=t[14].name),void 0!==t[14].value&&(d.value=t[14].value),n=new et({props:d}),m.push((()=>q(n,"name",a))),m.push((()=>q(n,"value",c))),{c(){var t;e=u("div"),(t=n.$$.fragment)&&t.c(),f(e,"class","variable-input svelte-1dzqatb")},m(t,r){s(t,e,r),A(n,e,null),i=!0},p(e,i){t=e;const a={};5&i&&(a.defined=t[2].has(t[14].name)),!r&&1&i&&(r=!0,a.name=t[14].name,k((()=>r=!1))),!o&&1&i&&(o=!0,a.value=t[14].value,k((()=>o=!1))),n.$set(a)},i(t){i||(j(n.$$.fragment,t),i=!0)},o(t){O(n.$$.fragment,t),i=!1},d(t){t&&l(e),W(n)}}}function it(t){let e,n,o,i,h,g,v,m,b,y,w,$,x,k,E,S,C,z,_=t[0],R=[];for(let e=0;e<_.length;e+=1)R[e]=ot(rt(t,_,e));const q=t=>O(R[t],1,1,(()=>{R[t]=null}));return{c(){e=u("main"),n=u("div"),o=u("div");for(let t=0;t<R.length;t+=1)R[t].c();i=c(),h=u("p"),g=u("input"),v=c(),m=u("input"),y=c(),w=u("div"),$=u("textarea"),x=c(),k=u("div"),E=u("textarea"),f(g,"type","text"),f(g,"class","variable-name"),f(g,"placeholder","新しい変数の名前"),f(m,"type","button"),m.value="追加",m.disabled=b=""===t[3]||t[5](t[3]),f(h,"class","add-variables-area svelte-1dzqatb"),f(o,"class","input-variables-area svelte-1dzqatb"),f($,"class","svelte-1dzqatb"),f(w,"class","input-template-area svelte-1dzqatb"),f(n,"class","input-area svelte-1dzqatb"),E.readOnly=!0,E.value=t[4],f(E,"class","svelte-1dzqatb"),f(k,"class","output-area svelte-1dzqatb"),f(e,"class","svelte-1dzqatb")},m(r,l){s(r,e,l),a(e,n),a(n,o);for(let t=0;t<R.length;t+=1)R[t].m(o,null);a(o,i),a(o,h),a(h,g),p(g,t[3]),a(h,v),a(h,m),a(n,y),a(n,w),a(w,$),p($,t[1]),a(e,x),a(e,k),a(k,E),S=!0,C||(z=[d(g,"input",t[10]),d(g,"keydown",F(t[7])),d(m,"click",t[7]),d($,"input",t[11])],C=!0)},p(t,[e]){if(69&e){let n;for(_=t[0],n=0;n<_.length;n+=1){const r=rt(t,_,n);R[n]?(R[n].p(r,e),j(R[n],1)):(R[n]=ot(r),R[n].c(),j(R[n],1),R[n].m(o,i))}for(T={r:0,c:[],p:T},n=_.length;n<R.length;n+=1)q(n);T.r||r(T.c),T=T.p}8&e&&g.value!==t[3]&&p(g,t[3]),(!S||8&e&&b!==(b=""===t[3]||t[5](t[3])))&&(m.disabled=b),2&e&&p($,t[1]),(!S||16&e)&&(E.value=t[4])},i(t){if(!S){for(let t=0;t<_.length;t+=1)j(R[t]);S=!0}},o(t){R=R.filter(nt);for(let t=0;t<R.length;t+=1)O(R[t]);S=!1},d(t){t&&l(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(R,t),C=!1,r(z)}}}function at(t,e,n){let r;function o(t,e=a){return Boolean(e.find((({name:e})=>e===t)))}let i,a=[{name:"title",value:"ゲト博士"},{name:"せつめい",value:"ドフェチいモフモフキャラだよ♥"}],s='<!DOCTYPE html>\n<html lang="ja">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width,initial-scale=1">\n    <title>{{ title }}</title>\n  </head>\n  <body>\n    <main>{{ せつめい }}</main>\n  </body>\n</html>',l="";return t.$$.update=()=>{if(6&t.$$.dirty)try{n(2,i=new Set(V(s)));const t=a.filter((t=>void 0!==t.value));n(0,a=[...t,...[...i].filter((e=>!o(e,t))).map((t=>({name:t})))])}catch(t){console.error(t)}3&t.$$.dirty&&n(4,r=function(t,e){const n=Object.fromEntries(e.map((({name:t,value:e})=>[t,e])));try{return D.render(t,n)}catch(e){return console.error(e),t}}(s,a))},[a,s,i,l,r,o,t=>{n(0,a=a.filter((({name:e})=>e!==t)))},()=>{""===l||o(l)||(n(0,a=a.concat({name:l,value:""})),n(3,l=""))},function(e,r){t.$$.not_equal(r.name,e)&&(r.name=e,n(0,a),n(1,s),n(2,i))},function(e,r){t.$$.not_equal(r.value,e)&&(r.value=e,n(0,a),n(1,s),n(2,i))},function(){l=this.value,n(3,l)},function(){s=this.value,n(1,s)}]}class st extends B{constructor(t){super(),U(this,t,at,it,i,{})}}const lt=document.getElementById("main");lt&&function(t,e){var n;const{target:r}=e,o=(null!==(n=r.ownerDocument)&&void 0!==n?n:r instanceof Document?r:document).createDocumentFragment(),i=new t(Object.assign(e,{target:o}));r.replaceWith(o)}(st,{target:lt})}();
//# sourceMappingURL=main.js.map
