!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function u(){return t=" ",document.createTextNode(t);var t}function f(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function d(t,e){t.value=null==e?"":e}let h;function g(t){h=t}const m=[],v=[],y=[],b=[],x=Promise.resolve();let w=!1;function $(t){y.push(t)}let k=!1;const S=new Set;function E(){if(!k){k=!0;do{for(let t=0;t<m.length;t+=1){const e=m[t];g(e),C(e.$$)}for(g(null),m.length=0;v.length;)v.pop()();for(let t=0;t<y.length;t+=1){const e=y[t];S.has(e)||(S.add(e),e())}y.length=0}while(m.length);for(;b.length;)b.pop()();w=!1,k=!1,S.clear()}}function C(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($)}}const _=new Set;function T(t,e){t&&t.i&&(_.delete(t),t.i(e))}function j(t,e){t.d(1),e.delete(t.key)}function z(t,e){-1===t.$$.dirty[0]&&(m.push(t),w||(w=!0,x.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function O(i,a,s,l,u,f,p=[-1]){const d=h;g(i);const m=i.$$={fragment:null,ctx:null,props:f,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:p,skip_bound:!1};let v=!1;if(m.ctx=s?s(i,a.props||{},((t,e,...n)=>{const r=n.length?n[0]:e;return m.ctx&&u(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),v&&z(i,t)),e})):[],m.update(),v=!0,r(m.before_update),m.fragment=!!l&&l(m.ctx),a.target){if(a.hydrate){const t=function(t){return Array.from(t.childNodes)}(a.target);m.fragment&&m.fragment.l(t),t.forEach(c)}else m.fragment&&m.fragment.c();a.intro&&T(i.$$.fragment),function(t,n,i,a){const{fragment:s,on_mount:c,on_destroy:l,after_update:u}=t.$$;s&&s.m(n,i),a||$((()=>{const n=c.map(e).filter(o);l?l.push(...n):r(n),t.$$.on_mount=[]})),u.forEach($)}(i,a.target,a.anchor,a.customElement),E()}g(d)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var A,W=(function(t,e){t.exports=function(){
/*!
       * mustache.js - Logic-less {{mustache}} templates with JavaScript
       * http://github.com/janl/mustache.js
       */
var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(t){return"function"==typeof t}function r(t){return e(t)?"array":typeof t}function o(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,e){return null!=t&&"object"==typeof t&&e in t}function a(t,e){return null!=t&&"object"!=typeof t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var s=RegExp.prototype.test;function c(t,e){return s.call(t,e)}var l=/\S/;function u(t){return!c(l,t)}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function p(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return f[t]}))}var d=/\s*/,h=/\s+/,g=/\s*=/,m=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/;function y(t,n){if(!t)return[];var r,i,a,s=!1,c=[],l=[],f=[],p=!1,y=!1,$="",k=0;function E(){if(p&&!y)for(;f.length;)delete l[f.pop()];else f=[];p=!1,y=!1}function C(t){if("string"==typeof t&&(t=t.split(h,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);r=new RegExp(o(t[0])+"\\s*"),i=new RegExp("\\s*"+o(t[1])),a=new RegExp("\\s*"+o("}"+t[1]))}C(n||S.tags);for(var _,T,j,z,O,A,W=new w(t);!W.eos();){if(_=W.pos,j=W.scanUntil(r))for(var P=0,U=j.length;P<U;++P)u(z=j.charAt(P))?(f.push(l.length),$+=z):(y=!0,s=!0,$+=" "),l.push(["text",z,_,_+1]),_+=1,"\n"===z&&(E(),$="",k=0,s=!1);if(!W.scan(r))break;if(p=!0,T=W.scan(v)||"name",W.scan(d),"="===T?(j=W.scanUntil(g),W.scan(g),W.scanUntil(i)):"{"===T?(j=W.scanUntil(a),W.scan(m),W.scanUntil(i),T="&"):j=W.scanUntil(i),!W.scan(i))throw new Error("Unclosed tag at "+W.pos);if(O=">"==T?[T,j,_,W.pos,$,k,s]:[T,j,_,W.pos],k++,l.push(O),"#"===T||"^"===T)c.push(O);else if("/"===T){if(!(A=c.pop()))throw new Error('Unopened section "'+j+'" at '+_);if(A[1]!==j)throw new Error('Unclosed section "'+A[1]+'" at '+_)}else"name"===T||"{"===T||"&"===T?y=!0:"="===T&&C(j)}if(E(),A=c.pop())throw new Error('Unclosed section "'+A[1]+'" at '+W.pos);return x(b(l))}function b(t){for(var e,n,r=[],o=0,i=t.length;o<i;++o)(e=t[o])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}function x(t){for(var e,n=[],r=n,o=[],i=0,a=t.length;i<a;++i)switch((e=t[i])[0]){case"#":case"^":r.push(e),o.push(e),r=e[4]=[];break;case"/":o.pop()[5]=e[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(e)}return n}function w(t){this.string=t,this.tail=t,this.pos=0}function $(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function k(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}w.prototype.eos=function(){return""===this.tail},w.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},w.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},$.prototype.push=function(t){return new $(t,this)},$.prototype.lookup=function(t){var e,r=this.cache;if(r.hasOwnProperty(t))e=r[t];else{for(var o,s,c,l=this,u=!1;l;){if(t.indexOf(".")>0)for(o=l.view,s=t.split("."),c=0;null!=o&&c<s.length;)c===s.length-1&&(u=i(o,s[c])||a(o,s[c])),o=o[s[c++]];else o=l.view[t],u=i(l.view,t);if(u){e=o;break}l=l.parent}r[t]=e}return n(e)&&(e=e.call(this.view)),e},k.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},k.prototype.parse=function(t,e){var n=this.templateCache,r=t+":"+(e||S.tags).join(":"),o=void 0!==n,i=o?n.get(r):void 0;return null==i&&(i=y(t,e),o&&n.set(r,i)),i},k.prototype.render=function(t,e,n,r){var o=this.getConfigTags(r),i=this.parse(t,o),a=e instanceof $?e:new $(e,void 0);return this.renderTokens(i,a,n,t,r)},k.prototype.renderTokens=function(t,e,n,r,o){for(var i,a,s,c="",l=0,u=t.length;l<u;++l)s=void 0,"#"===(a=(i=t[l])[0])?s=this.renderSection(i,e,n,r,o):"^"===a?s=this.renderInverted(i,e,n,r,o):">"===a?s=this.renderPartial(i,e,n,o):"&"===a?s=this.unescapedValue(i,e):"name"===a?s=this.escapedValue(i,e,o):"text"===a&&(s=this.rawValue(i)),void 0!==s&&(c+=s);return c},k.prototype.renderSection=function(t,r,o,i,a){var s=this,c="",l=r.lookup(t[1]);function u(t){return s.render(t,r,o,a)}if(l){if(e(l))for(var f=0,p=l.length;f<p;++f)c+=this.renderTokens(t[4],r.push(l[f]),o,i,a);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)c+=this.renderTokens(t[4],r.push(l),o,i,a);else if(n(l)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(r.view,i.slice(t[3],t[5]),u))&&(c+=l)}else c+=this.renderTokens(t[4],r,o,i,a);return c}},k.prototype.renderInverted=function(t,n,r,o,i){var a=n.lookup(t[1]);if(!a||e(a)&&0===a.length)return this.renderTokens(t[4],n,r,o,i)},k.prototype.indentPartial=function(t,e,n){for(var r=e.replace(/[^ \t]/g,""),o=t.split("\n"),i=0;i<o.length;i++)o[i].length&&(i>0||!n)&&(o[i]=r+o[i]);return o.join("\n")},k.prototype.renderPartial=function(t,e,r,o){if(r){var i=this.getConfigTags(o),a=n(r)?r(t[1]):r[t[1]];if(null!=a){var s=t[6],c=t[5],l=t[4],u=a;0==c&&l&&(u=this.indentPartial(a,l,s));var f=this.parse(u,i);return this.renderTokens(f,e,r,u,o)}}},k.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},k.prototype.escapedValue=function(t,e,n){var r=this.getConfigEscape(n)||S.escape,o=e.lookup(t[1]);if(null!=o)return"number"==typeof o&&r===S.escape?String(o):r(o)},k.prototype.rawValue=function(t){return t[1]},k.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"==typeof t?t.tags:void 0},k.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!e(t)?t.escape:void 0};var S={name:"mustache.js",version:"4.1.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){E.templateCache=t},get templateCache(){return E.templateCache}},E=new k;return S.clearCache=function(){return E.clearCache()},S.parse=function(t,e){return E.parse(t,e)},S.render=function(t,e,n,o){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+r(t)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(t,e,n,o)},S.escape=p,S.Scanner=w,S.Context=$,S.Writer=k,S}()}(A={exports:{}},A.exports),A.exports);const P=(...t)=>t.map(parseFloat).reduce(((t,e)=>t+e),0),U="undefined"!=typeof document&&!!document.documentElement.currentStyle,R=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"];const L={"min-height":"0","max-height":"none",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"};function B(t){return Object.entries(L).forEach((([e,n])=>t.style.setProperty(e,n,"important")))}let I;function M(t){const e=()=>{const e=function(t){const e=window.getComputedStyle(t);if(null===e)return null;let n=(r=e,R.reduce(((t,e)=>(t[e]=r[e],t)),{}));var r;const{boxSizing:o}=n;return""===o?null:(U&&"border-box"===o&&(n.width=P(n.width,n.borderRightWidth,n.borderLeftWidth,n.paddingRight,n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:P(n.paddingBottom,n.paddingTop),borderSize:P(n.borderBottomWidth,n.borderTopWidth)})}(t);if(!e)return;const n=function(t,e){I||(I=document.createElement("textarea"),I.setAttribute("tab-index","-1"),I.setAttribute("aria-hidden","true"),I.setAttribute("rows","1"),B(I)),null===I.parentNode&&document.body.appendChild(I);const{paddingSize:n,borderSize:r,sizingStyle:o}=t,{boxSizing:i}=o;Object.entries(o).forEach((([t,e])=>I.style[t]=e)),B(I),I.value=e;let a=((t,e)=>{const n=t.scrollHeight;return"border-box"===e.sizingStyle.boxSizing?n+e.borderSize:n-e.paddingSize})(I,t);I.value="x";let s=I.scrollHeight-n;return"border-box"===i&&(s=s+n+r),Math.max(s,a)}(e,t.value||t.placeholder||"x");t.style.setProperty("height",`${n}px`,"important")};t.addEventListener("input",e),window.addEventListener("resize",e),e()}function V(t){return t.reduce(((t,[e,n,r,o,i])=>("name"!==e&&"&"!==e&&"#"!==e&&"^"!==e||t.push(n.replace(/\s*\..+$/,"")),Array.isArray(i)&&t.push(...V(i)),t)),[])}function D(t){return V(W.parse(t))}function F(t,e,n){const r=t.slice();return r[15]=e[n],r[16]=e,r[17]=n,r}function N(t){let e,n,r,i,a;return{c(){e=l("strong"),e.textContent="テンプレート内に変数が存在しません",n=u(),r=l("input"),p(e,"class","error svelte-1x0c462"),p(r,"type","button"),r.value="削除"},m(c,l){s(c,e,l),s(c,n,l),s(c,r,l),i||(a=f(r,"click",(function(){o(t[6](t[15].name))&&t[6](t[15].name).apply(this,arguments)})),i=!0)},p(e,n){t=e},d(t){t&&c(e),t&&c(n),t&&c(r),i=!1,a()}}}function H(t){let e;return{c(){e=l("em"),e.textContent="変数を検知したため、自動で追加されました",p(e,"class","info svelte-1x0c462")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function q(e,n){let i,h,g,m,v,y,b,x,w,$=!n[2].has(n[15].name);function k(){n[8].call(g,n[16],n[17])}let S=$&&N(n),E=void 0===n[15].value&&H();function C(){n[9].call(b,n[16],n[17])}return{key:e,first:null,c(){i=l("fieldset"),h=l("legend"),g=l("input"),m=u(),S&&S.c(),v=u(),E&&E.c(),y=u(),b=l("textarea"),p(g,"type","text"),p(g,"class","variable-name svelte-1x0c462"),p(b,"class","svelte-1x0c462"),p(i,"class","svelte-1x0c462"),this.first=i},m(e,r){var c;s(e,i,r),a(i,h),a(h,g),d(g,n[15].name),a(h,m),S&&S.m(h,null),a(h,v),E&&E.m(h,null),a(i,y),a(i,b),d(b,n[15].value),x||(w=[f(g,"input",k),(c=M.call(null,b),c&&o(c.destroy)?c.destroy:t),f(b,"input",C)],x=!0)},p(t,e){n=t,1&e&&g.value!==n[15].name&&d(g,n[15].name),5&e&&($=!n[2].has(n[15].name)),$?S?S.p(n,e):(S=N(n),S.c(),S.m(h,v)):S&&(S.d(1),S=null),void 0===n[15].value?E||(E=H(),E.c(),E.m(h,null)):E&&(E.d(1),E=null),1&e&&d(b,n[15].value)},d(t){t&&c(i),S&&S.d(),E&&E.d(),x=!1,r(w)}}}function Y(e){let n,o,i,h,g,m,v,y,b,x,w,$,k,S,E,C,_,z=[],O=new Map,A=e[0];const W=t=>t[15].key;for(let t=0;t<A.length;t+=1){let n=F(e,A,t),r=W(n);O.set(r,z[t]=q(r,n))}return{c(){n=l("main"),o=l("div"),i=l("div");for(let t=0;t<z.length;t+=1)z[t].c();h=u(),g=l("p"),m=l("input"),v=u(),y=l("input"),x=u(),w=l("div"),$=l("textarea"),k=u(),S=l("div"),E=l("textarea"),p(m,"type","text"),p(m,"class","variable-name svelte-1x0c462"),p(m,"placeholder","新しい変数の名前"),p(y,"type","button"),y.value="追加",y.disabled=b=""===e[3]||e[5](e[3]),p(g,"class","add-variables-area svelte-1x0c462"),p(i,"class","input-variables-area svelte-1x0c462"),p($,"class","svelte-1x0c462"),p(w,"class","input-template-area svelte-1x0c462"),p(o,"class","input-area svelte-1x0c462"),E.readOnly=!0,E.value=e[4],p(E,"class","svelte-1x0c462"),p(S,"class","output-area svelte-1x0c462"),p(n,"class","svelte-1x0c462")},m(t,r){s(t,n,r),a(n,o),a(o,i);for(let t=0;t<z.length;t+=1)z[t].m(i,null);a(i,h),a(i,g),a(g,m),d(m,e[3]),a(g,v),a(g,y),a(o,x),a(o,w),a(w,$),d($,e[1]),a(n,k),a(n,S),a(S,E),C||(_=[f(m,"input",e[10]),f(y,"click",e[7]),f($,"input",e[11])],C=!0)},p(t,[e]){69&e&&(A=t[0],z=function(t,e,n,r,o,i,a,s,c,l,u,f){let p=t.length,d=i.length,h=p;const g={};for(;h--;)g[t[h].key]=h;const m=[],v=new Map,y=new Map;for(h=d;h--;){const t=f(o,i,h),s=n(t);let c=a.get(s);c?r&&c.p(t,e):(c=l(s,t),c.c()),v.set(s,m[h]=c),s in g&&y.set(s,Math.abs(h-g[s]))}const b=new Set,x=new Set;function w(t){T(t,1),t.m(s,u),a.set(t.key,t),u=t.first,d--}for(;p&&d;){const e=m[d-1],n=t[p-1],r=e.key,o=n.key;e===n?(u=e.first,p--,d--):v.has(o)?!a.has(r)||b.has(r)?w(e):x.has(o)?p--:y.get(r)>y.get(o)?(x.add(r),w(e)):(b.add(o),p--):(c(n,a),p--)}for(;p--;){const e=t[p];v.has(e.key)||c(e,a)}for(;d;)w(m[d-1]);return m}(z,e,W,1,t,A,O,i,j,q,h,F)),8&e&&m.value!==t[3]&&d(m,t[3]),8&e&&b!==(b=""===t[3]||t[5](t[3]))&&(y.disabled=b),2&e&&d($,t[1]),16&e&&(E.value=t[4])},i:t,o:t,d(t){t&&c(n);for(let t=0;t<z.length;t+=1)z[t].d();C=!1,r(_)}}}function G(t,e){return t.name.localeCompare(e.name)}function J(t,e,n){let r;function o(t=s){const e=new Set(t.map((({key:t})=>t)));let n=0;for(;e.has(n);)n++;return n}function i(t,e=s){return Boolean(e.find((({name:e})=>e===t)))}let a,s=[{name:"title",value:"ゲト博士"},{name:"せつめい",value:"ドフェチいモフモフキャラだよ♥"}].map(((t,e)=>Object.assign(Object.assign({},t),{key:e}))),c='<!DOCTYPE html>\n<html lang="ja">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width,initial-scale=1">\n    <title>{{ title }}</title>\n  </head>\n  <body>\n    <main>{{ せつめい }}</main>\n  </body>\n</html>',l="";return t.$$.update=()=>{if(6&t.$$.dirty)try{n(2,a=new Set(D(c)));const t=s.filter((t=>void 0!==t.value));n(0,s=[...t,...[...a].filter((e=>!i(e,t))).map((e=>({name:e,key:o(t)})))].sort(G))}catch(t){console.error(t)}3&t.$$.dirty&&n(4,r=function(t,e){const n=Object.fromEntries(e.map((({name:t,value:e})=>[t,e])));try{return W.render(t,n)}catch(e){return console.error(e),t}}(c,s))},[s,c,a,l,r,i,t=>()=>{n(0,s=s.filter((({name:e})=>e!==t)))},()=>{""===l||i(l)||(n(0,s=s.concat({name:l,value:"",key:o()}).sort(G)),n(3,l=""))},function(t,e){t[e].name=this.value,n(0,s),n(1,c),n(2,a)},function(t,e){t[e].value=this.value,n(0,s),n(1,c),n(2,a)},function(){l=this.value,n(3,l)},function(){c=this.value,n(1,c)}]}class K extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),O(this,t,J,Y,i,{})}}const Q=document.getElementById("main");Q&&function(t,e){var n;const{target:r}=e,o=(null!==(n=r.ownerDocument)&&void 0!==n?n:r instanceof Document?r:document).createDocumentFragment(),i=new t(Object.assign(e,{target:o}));r.replaceWith(o)}(K,{target:Q})}();
//# sourceMappingURL=main.js.map
